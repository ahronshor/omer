<html>
	<head>
		<script type="text/javascript" src="client/hebcal.js"></script>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	</head>
	<style>
			@font-face {
   			font-family: myFirstFont;
   			src: url(StamSefaradCLM.ttf);
		}

		* {
   			font-family: myFirstFont;
			font-size: 50;
			color: #5f5f5f;
		}
	</style>
	<body style="margin: 0;" onload="startTime()">
		<div style="margin: 40 0 0 0;position: absolute;display: flex;">
    			<div style="left: 10%; position: fixed;">
				<a>צאת הכוכבים :</a>
				<a id="sunset">00:00</a>
			</div>
    			<div id="clock" style="position: fixed;right: 10%;">00:00:00</div>
		</div>
		<div id="omer" style="width: 100%; height: 100%; display: flex;">
			<table>
				<tr>
					<td><img id="img0" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img1" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img2" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img3" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img4" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
				<tr>
					<td><img id="img5" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img6" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img7" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img8" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img9" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
				<tr>
					<td><img id="img10" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img11" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img12" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img13" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img14" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
				<tr>
					<td><img id="img15" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img16" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img17" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img18" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img19" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
				<tr>
					<td><img id="img20" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img21" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img22" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img23" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img24" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
				<tr>
					<td><img id="img25" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img26" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img27" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img28" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
					<td><img id="img29" alt="יש שגיאה במערכת" style="width: 100%; height: 100%;"></td>
				</tr>
			</table>

		</div>
		<script type="text/javascript">
			function startTime() {
  				const today = new Date();
  				let h = today.getHours();
  				let m = today.getMinutes();
				let s = today.getSeconds();
  				m = checkTime(m);
				s = checkTime(s);
  				document.getElementById('clock').innerHTML =  h + ":" + m + ":" + s;
  				setTimeout(startTime, 1000);
			}

			function checkTime(i) {
			 	if (i < 10) {i = "0" + i};  // add zero in front of numbers < 10
  				return i;
			}
			var d = document, o, year, today;
			function refresh() {
				var date = new Date();
				date = date.setMinutes ( date.getMinutes() - 10 );
				var day = new Hebcal.HDate();
				if (day.sunset() < date) {
					day = day.next();
				}
				var omerDay = day.omer();
				var i2 = 20;
				for (var i1 = 0; i1<30; i1++){
					d.querySelector('#img'+ i1).src = 'images/' + i2 +'.png';
					i2++;
				}
				var sun = Hebcal.HDate().sunset();
				sun.setMinutes(sun.getMinutes()+20)
				var sunH = sun.getHours();
				var sunM = sun.getMinutes();
				sunM = checkTime(sunM);
				document.getElementById('sunset').innerHTML = sunH + ":" + sunM;
				setTimeout('refresh()', 10000);
			}
			Hebcal.events.on('ready', refresh());
		</script>
	</body>
</html>

